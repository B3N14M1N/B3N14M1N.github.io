<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentation - Beniamin Cioban</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css" />
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
  </head>
  <body data-bs-theme="dark">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">Beniamin Cioban</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav ms-auto">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link" href="projects.html">Projects</a>
            <a class="nav-link active" href="documentation.html">Documentation</a>
            <button class="btn theme-toggle-btn ms-2" id="theme-toggle">
              <i class="bi bi-moon-fill" id="theme-icon"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Documentation Header -->
    <section class="py-5 text-center">
      <div class="container">
        <h1 class="display-4 fw-bold">Voxel-System Documentation</h1>
        <p class="lead">Comprehensive guide and API reference for the Voxel-System project</p>
      </div>
    </section>

    <!-- Documentation Content -->
    <section class="py-5">
      <div class="container-fluid px-0">
        <div class="doc-wrapper">
          <!-- Documentation Sidebar -->
          <div class="doc-sidebar" id="doc-sidebar">
            <!-- Sidebar Content -->
            <div class="doc-toc">
              <h5>Table of Contents</h5>
              <div class="list-group">
                <a href="#introduction" class="list-group-item list-group-item-action">Introduction</a>
                <a href="#getting-started" class="list-group-item list-group-item-action">Getting Started</a>
                <a href="#core-concepts" class="list-group-item list-group-item-action">Core Concepts</a>
                <a href="#api-reference" class="list-group-item list-group-item-action">API Reference</a>
                <a href="#examples" class="list-group-item list-group-item-action">Examples</a>
                <a href="#faq" class="list-group-item list-group-item-action">FAQ</a>
              </div>
            </div>
          </div>
          
          <!-- Toggle Button - Now outside of sidebar -->
          <button class="sidebar-toggle" id="sidebar-toggle" title="Toggle Sidebar">
            <i class="bi bi-chevron-left" id="sidebar-icon"></i>
          </button>
          
          <!-- Mobile Toggle Button (only appears on small screens) -->
          <button class="doc-mobile-toggle d-lg-none" id="doc-mobile-toggle">
            <i class="bi bi-list"></i>
          </button>
          
          <!-- Documentation Content -->
          <div class="doc-content-wrapper" id="doc-content-wrapper">
            <div class="container">
              <div class="row">
                <div class="col-12">
                  <!-- Introduction Section -->
                  <section id="introduction" class="doc-content mb-5">
                    <h2 class="mb-4">Introduction</h2>
                    <p>Welcome to the Voxel-System documentation. This guide will help you understand and utilize the voxel system effectively in your projects. The voxel system is designed to create and manage voxel-based worlds with high performance and flexibility.</p>
                    
                    <h3>What is a Voxel?</h3>
                    <p>A voxel (volumetric pixel) is a value in a regular grid in three-dimensional space. Like pixels in a 2D bitmap, voxels themselves do not typically have their position explicitly encoded along with their values. Instead, the position of a voxel is inferred based upon its position relative to other voxels (i.e., its position in the data structure that makes up a single volumetric image).</p>
                    
                    <h3>Key Features</h3>
                    <ul>
                      <li>Efficient memory usage</li>
                      <li>Fast mesh generation</li>
                      <li>Multithreaded chunk loading</li>
                      <li>Customizable voxel types</li>
                      <li>Procedural terrain generation</li>
                      <li>Runtime editing capabilities</li>
                    </ul>
                  </section>
                  

                  <!-- Getting Started Section -->
                  <section id="getting-started" class="doc-content mb-5">
                    <h2 class="mb-4">Getting Started</h2>
                    <p>Follow these steps to get started with the Voxel-System.</p>
                    
                    <h3>Installation</h3>
                    <p>Clone the repository to your local machine:</p>
                    
                    <pre><code class="language-bash">git clone https://github.com/username/Voxel-System.git
cd Voxel-System</code></pre>

                    <h3>Basic Usage</h3>
                    <p>Here's a simple example to create a voxel world:</p>
                    
                    <pre><code class="language-csharp">// Initialize the voxel system
VoxelWorld world = new VoxelWorld(new Vector3(16, 16, 16), 1.0f);

// Create a voxel chunk
VoxelChunk chunk = world.CreateChunk(Vector3.zero);

// Set some voxels
chunk.SetVoxel(new Vector3Int(0, 0, 0), new Voxel(1, VoxelType.Solid));
chunk.SetVoxel(new Vector3Int(1, 0, 0), new Voxel(2, VoxelType.Solid));

// Generate mesh for rendering
chunk.GenerateMesh();</code></pre>
                  </section>
                  

                  <!-- Core Concepts Section -->
                  <section id="core-concepts" class="doc-content mb-5">
                    <h2 class="mb-4">Core Concepts</h2>
                    <p>Understanding these core concepts will help you work effectively with the Voxel-System.</p>
                    
                    <h3>VoxelWorld</h3>
                    <p>The VoxelWorld class is the main entry point for working with the voxel system. It manages chunks and provides high-level operations for the voxel environment.</p>
                    
                    <h3>VoxelChunk</h3>
                    <p>A VoxelChunk represents a section of the world containing multiple voxels. Chunks are the primary unit of organization and optimization in the system.</p>
                    
                    <h3>Voxel</h3>
                    <p>The basic building block of the system. Each voxel contains information about its type and properties.</p>
                  </section>
                  

                  <!-- API Reference Section -->
                  <section id="api-reference" class="doc-content mb-5">
                    <h2 class="mb-4">API Reference</h2>
                    <p>Detailed documentation of the classes and methods available in the Voxel-System.</p>
                    
                    <h3>VoxelWorld Class</h3>
                    <pre><code class="language-csharp">public class VoxelWorld
{
    // Properties
    public Vector3 ChunkSize { get; }
    public float VoxelSize { get; }
    
    // Methods
    public VoxelChunk CreateChunk(Vector3 position);
    public VoxelChunk GetChunkAt(Vector3 position);
    public Voxel GetVoxelAt(Vector3 position);
    public void SetVoxelAt(Vector3 position, Voxel voxel);
}</code></pre>

                    <h3>VoxelChunk Class</h3>
                    <pre><code class="language-csharp">public class VoxelChunk
{
    // Properties
    public Vector3 Position { get; }
    public Vector3Int Size { get; }
    
    // Methods
    public Voxel GetVoxel(Vector3Int localPosition);
    public void SetVoxel(Vector3Int localPosition, Voxel voxel);
    public bool IsVoxelSolid(Vector3Int localPosition);
    public void GenerateMesh();
}</code></pre>

                    <h3>Voxel Struct</h3>
                    <pre><code class="language-csharp">public struct Voxel
{
    // Properties
    public int ID { get; }
    public VoxelType Type { get; }
    
    // Constructor
    public Voxel(int id, VoxelType type);
}</code></pre>
                  </section>
                  

                  <!-- Examples Section -->
                  <section id="examples" class="doc-content mb-5">
                    <h2 class="mb-4">Examples</h2>
                    <p>Practical examples to help you understand how to use the Voxel-System effectively.</p>
                    
                    <h3>Generating Procedural Terrain</h3>
                    <p>Here's an example of generating procedural terrain using Perlin noise:</p>
                    
                    <pre><code class="language-csharp">void GenerateTerrain(VoxelChunk chunk, float seed)
{
    // Loop through each position in the chunk
    for (int x = 0; x &lt; chunk.Size.x; x++)
    {
        for (int z = 0; z &lt; chunk.Size.z; z++)
        {
            // Calculate height using Perlin noise
            float noiseValue = Mathf.PerlinNoise(
                (chunk.Position.x + x) * 0.1f + seed,
                (chunk.Position.z + z) * 0.1f + seed
            );
            
            int height = Mathf.FloorToInt(noiseValue * 10) + 5;
            
            // Fill voxels up to the calculated height
            for (int y = 0; y &lt; chunk.Size.y; y++)
            {
                if (y &lt;= height)
                {
                    // Determine voxel type based on height
                    VoxelType type = VoxelType.Solid;
                    int id = 1; // Stone
                    
                    if (y == height)
                    {
                        id = 2; // Grass
                    }
                    else if (y &gt; height - 3 && y &lt; height)
                    {
                        id = 3; // Dirt
                    }
                    
                    chunk.SetVoxel(new Vector3Int(x, y, z), new Voxel(id, type));
                }
            }
        }
    }
    
    // Generate the mesh for rendering
    chunk.GenerateMesh();
}</code></pre>
                  </section>
                  

                  <!-- FAQ Section -->
                  <section id="faq" class="doc-content mb-5">
                    <h2 class="mb-4">Frequently Asked Questions</h2>
                    
                    <div class="card mb-3">
                      <div class="card-body">
                        <h5 class="card-title">How many voxels can a chunk contain?</h5>
                        <p class="card-text">A chunk size is customizable, but the default is 16x16x16 voxels for a total of 4,096 voxels per chunk. This balances performance and memory usage for most applications.</p>
                      </div>
                    </div>
                    
                    <div class="card mb-3">
                      <div class="card-body">
                        <h5 class="card-title">Is multithreading supported?</h5>
                        <p class="card-text">Yes, the system is designed to take advantage of multithreading for mesh generation and chunk loading operations. This significantly improves performance on modern hardware.</p>
                      </div>
                    </div>
                    
                    <div class="card mb-3">
                      <div class="card-body">
                        <h5 class="card-title">How is memory usage optimized?</h5>
                        <p class="card-text">The system uses various optimization techniques such as chunk pooling, compressed voxel storage, and distance-based chunk loading to minimize memory usage while maintaining good performance.</p>
                      </div>
                    </div>
                    
                    <div class="card">
                      <div class="card-body">
                        <h5 class="card-title">Can I use custom voxel types?</h5>
                        <p class="card-text">Yes, the system supports extending the VoxelType enum and adding custom properties to voxels. You can also create custom rendering behaviors for different voxel types.</p>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-4">
      <div class="container text-center">
        <p class="mb-0">&copy; 2023 Beniamin Cioban. All rights reserved.</p>
      </div>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- Custom JS -->
    <script src="scripts.js"></script>
    
    <script>
      // Initialize code highlighting
      hljs.highlightAll();
      
      // Sidebar toggle functionality
      document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.getElementById('doc-sidebar');
        const contentWrapper = document.getElementById('doc-content-wrapper');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarIcon = document.getElementById('sidebar-icon');
        const mobileToggle = document.getElementById('doc-mobile-toggle');
        
        // Toggle sidebar function
        function toggleSidebar() {
          sidebar.classList.toggle('collapsed');
          contentWrapper.classList.toggle('sidebar-collapsed');
          
          if (sidebar.classList.contains('collapsed')) {
            sidebarIcon.classList.remove('bi-chevron-left');
            sidebarIcon.classList.add('bi-chevron-right');
            // Save state to localStorage
            localStorage.setItem('sidebarCollapsed', 'true');
          } else {
            sidebarIcon.classList.remove('bi-chevron-right');
            sidebarIcon.classList.add('bi-chevron-left');
            // Save state to localStorage
            localStorage.setItem('sidebarCollapsed', 'false');
          }
        }
        
        // Check saved sidebar state
        const savedSidebarState = localStorage.getItem('sidebarCollapsed');
        if (savedSidebarState === 'true') {
          sidebar.classList.add('collapsed');
          contentWrapper.classList.add('sidebar-collapsed');
          sidebarIcon.classList.remove('bi-chevron-left');
          sidebarIcon.classList.add('bi-chevron-right');
        }
        
        // Toggle sidebar on mobile function
        function toggleMobileSidebar() {
          sidebar.classList.toggle('show');
        }
        
        // Add click event listeners
        if (sidebarToggle) {
          sidebarToggle.addEventListener('click', toggleSidebar);
        }
        
        if (mobileToggle) {
          mobileToggle.addEventListener('click', toggleMobileSidebar);
        }
        
        // Close mobile sidebar when clicking navigation links
        const sidebarLinks = document.querySelectorAll('#doc-sidebar .list-group-item');
        sidebarLinks.forEach(link => {
          link.addEventListener('click', function() {
            if (window.innerWidth < 992) {
              sidebar.classList.remove('show');
            }
            
            // Smooth scroll to target
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              const headerOffset = 80;
              const elementPosition = targetElement.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
              
              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });
              
              // Prevent default anchor behavior
              event.preventDefault();
            }
          });
        });
        
        // Close mobile sidebar when clicking outside
        document.addEventListener('click', function(event) {
          if (window.innerWidth < 992 && 
              !sidebar.contains(event.target) && 
              !mobileToggle.contains(event.target) &&
              sidebar.classList.contains('show')) {
            sidebar.classList.remove('show');
          }
        });
        
        // Make sidebar links active when scrolling
        const sections = document.querySelectorAll('.doc-content');
        const navLinks = document.querySelectorAll('#doc-sidebar .list-group-item');
        
        function setActiveLink() {
          let current = '';
          
          sections.forEach(section => {
            const sectionTop = section.offsetTop - 100;
            const sectionHeight = section.offsetHeight;
            
            if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
              current = section.getAttribute('id');
            }
          });
          
          navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').substring(1) === current) {
              link.classList.add('active');
            }
          });
        }
        
        window.addEventListener('scroll', setActiveLink);
        
        // Initial call to set the active link based on current scroll position
        setActiveLink();
        
        // Resize functionality to handle sidebar state on screen size changes
        window.addEventListener('resize', function() {
          if (window.innerWidth >= 992) {
            sidebar.classList.remove('show');
          }
        });
      });
    </script>
  </body>
</html>